
# R2023x 安装


## RHEL 8.7系统安装

对于系统的安装，这个就完全基于我们一般的安装习惯了，因为后面我们会有根据系统需求整体的一个RPM包安装的步骤，所以前面我们对于一些模块的安装选择不用太过在意，这里唯一需要大家注意的是，我们的系统语言的选择，请选择英文；另外，我们需要图形化界面，所以我们一开始安装RHEL就请直接选择带GUI界面的安装；最后，如果这个系统还需要安装oracle 19C数据库，根据oracle 19C的安装要求，那么请保证SWAP的大小请保证有16G以上。

以下是我进行系统安装的步骤截图，仅供参考，不需要一定按照我的安装步骤来。

这里语言选择请尽量选择英文。

下面几个是我安装的时候的选择习惯，仅供参考，不用照搬。


FTP Server

Mail Server

Performance Tools

Security Tools

Development Tools

---

## 主机名修改

一般来说，主机名都尽量在操作系统安装的时候就设置好，可以用hostname命令查看本机的主机名，如果不符合要求想修改的话，可以使用下面命令进行更改。

使用root账号，使用命令

```bash
vi /etc/sysconfig/network
```

增加内容如下：

```bash
NETWORKING=yes
HOSTNAME=dsu.3ds.com
```

---

##	修改HOST文件

使用root账号，使用命令

```bash
vi /etc/hosts
```

这里是将dsu.3ds.com和untrusted.dsu.3ds.com的IP设置一下，方便后面调用。

```bash
127.0.0.1 dsu.3ds.com
127.0.0.1 untrusted.dsu.3ds.com
```


这里我修改成127.0.0.1是因为我的虚拟机可能会移动或者发生IP变化，设成这个值我就不用在IP变化的时候再麻烦进行重新设置了。

---

## 关闭防火墙

使用root账号，命令如下：

```bash

#查看防火墙状态
firewall-cmd --state 
#关闭防火墙服务
systemctl disable firewalld
#停止防火墙
systemctl stop firewalld

```

---
## Linux的增强安全体系关闭

###	查看当前SELINUX配置

使用命令sestatus查看：
- SELINUX=enforcing - 强制打开,拒绝违反安全策略
- SELINUX=permissive - 遇到违反安全策略仍正常执行，但输出警告
- SELINUX=disabled - 关闭安全策略

```bash
sestatu
```

###	修改当前SELINUX配置

执行命令

```bash
vi /etc/selinux/config
```

修改参数值
 
重启系统，设置就会生效。


---


## 本地yum源的配置

首先创建一个本地路径用来作为映射路径
```bash
mkdir -p /mnt/cdrom
```
下面有两种情况进行mount
一种是将设备光盘挂载到本地的mnt下面的cdrom目录。

```bash
mount /dev/cdrom /mnt/cdrom/
```

第二种是已经将iso文件拷贝到本地了，那么可以直接挂载iso文件

```bash
mount -o loop /usr/local/tooldisk/mydisk3.iso /mnt/cdrom
```


挂载完光盘或者iso可以用用df -lh命令查看是否挂载了


下面是具体yum源的配置文件的创建与设置。

```bash

cd /etc/yum.repos.d/   #进入yum配置目录 
touch  rhel8.repo   #建立yum配置文件 
vi  rhel8.repo   #编辑配置文件，添加以下内容
```


```conf
[name-OS]
name=cdrom-BaseOS
baseurl=file:///mnt/cdrom/BaseOS
enabled=1
gpgcheck=0

[name-APP]
name=cdrom-app
baseurl=file:///mnt/cdrom/AppStream
enabled=1
gpgcheck=0

```

添加保存后，用命令使设置生效

```bash
yum clean all  #清除yum缓存 
yum makecache  #缓存本地yum源中的软件包信息
```

执行
```bash
yum repolist
```
检查是否配置成功

---

## 安装所需的RPM包

### Yum源内的RPM包

首先，进入Program Directories网站查找到“RHEL 8.1 Servers Software Packages listing”，如下图：
 
 
将这些依赖包拷贝出来，只保留第一列依赖包的名称，将其生成一个txt文档。


```txt

abattis-cantarell-fonts
abrt-addon-coredump-helper
abrt-gui-libs
abrt-libs
accountsservice
accountsservice-libs
acl
adcli
adobe-mappings-cmap
adobe-mappings-cmap-deprecated
adobe-mappings-pdf
adoptopenjdk-8-openj9
adwaita-cursor-theme
adwaita-gtk2-theme
adwaita-icon-theme
alsa-lib
alsa-lib-devel
anaconda-core
anaconda-gui
anaconda-tui
anaconda-user-help
anaconda-widgets
annobin
appstream-data
asciidoc
aspell
at
atk
atk-devel
atkmm
atlas
atlas-devel
atop
at-spi2-atk
at-spi2-atk-devel
at-spi2-core
at-spi2-core-devel
attr
audit
audit-libs
audit-libs-devel
augeas-libs
authselect
authselect-compat
authselect-libs
autoconf
autofs
automake
avahi
avahi-glib
avahi-libs
babl
baobab
basesystem
bash
bash-completion
bc
bcc
bcc-tools
bind-export-libs
bind-libs
bind-libs-lite
bind-license
bind-utils
binutils
binutils-devel
biosdevname
bison
blivet-data
blktrace
bluez
bluez-libs
bluez-obexd
bolt
boost
boost-atomic
boost-chrono
boost-container
boost-context
boost-coroutine
boost-date-time
boost-devel
boost-fiber
boost-filesystem
boost-graph
boost-iostreams
boost-locale
boost-log
boost-math
boost-program-options
boost-random
boost-regex
boost-serialization
boost-signals
boost-stacktrace
boost-system
boost-test
boost-thread
boost-timer
boost-type_erasure
boost-wave
bpftool
brlapi
brltty
brotli
bubblewrap
byacc
bzip2
bzip2-devel
bzip2-libs
ca-certificates
cairo
cairo-devel
cairo-gobject
cairo-gobject-devel
cairomm
c-ares
c-ares-devel
ccache
celt051
cgdcbxd
check
check-devel
checkpolicy
cheese
cheese-libs
chkconfig
chrome-gnome-shell
chrony
cifs-utils
clang-libs
cldr-emoji-annotation
clutter
clutter-gst3
clutter-gtk
cmake
cmake-data
cmake-filesystem
cmake-rpm-macros
cockpit
cockpit-bridge
cockpit-doc
cockpit-packagekit
cockpit-system
cockpit-ws
cogl
colord
colord-gtk
colord-libs
color-filesystem
__commvault-custom-default-desktop-11.20.x86_64.rpm.Instance001
compat-libgfortran-48
compat-libtiff3
compat-openssl10
compiler-rt
copy-jdk-configs
coreutils
coreutils-common
cpio
cpp
cracklib
cracklib-dicts
crash
crash-gcore-command
crash-ptdump-command
crash-trace-command
cronie
cronie-anacron
crontabs
crypto-policies
cryptsetup
cryptsetup-libs
ctags
cups-client
cups-devel
cups-libs
cups-pk-helper
curl
cyrus-sasl
cyrus-sasl-devel
cyrus-sasl-gssapi
cyrus-sasl-lib
cyrus-sasl-plain
daemon
daxctl-libs
dbus
dbus-common
dbus-daemon
dbus-devel
dbus-glib
dbus-glib-devel
dbus-libs
dbus-tools
dbus-x11
dbxtool
dconf
dcraw
dejavu-fonts-common
dejavu-sans-fonts
dejavu-sans-mono-fonts
dejavu-serif-fonts
desktop-file-utils
device-mapper
device-mapper-event
device-mapper-event-libs
device-mapper-libs
device-mapper-multipath
device-mapper-multipath-libs
device-mapper-persistent-data
dhcp-client
dhcp-common
dhcp-libs
diffstat
diffutils
distcc
distcc-server
dleyna-connector-dbus
dleyna-core
dleyna-server
dmidecode
dnf
dnf-data
dnf-plugins-core
dnf-plugin-subscription-manager
dnsmasq
docbook-dtds
docbook-style-xsl
dos2unix
dosfstools
dotconf
dracut
dracut-config-rescue
dracut-network
dracut-squash
dwz
dyninst
e2fsprogs
e2fsprogs-devel
e2fsprogs-libs
ed
edk2-ovmf
efi-filesystem
efi-srpm-macros
efivar
efivar-libs
elfutils
elfutils-default-yama-scope
elfutils-devel
elfutils-libelf
elfutils-libelf-devel
elfutils-libs
emacs-filesystem
enchant
enchant2
environment-modules
eog
espeak-ng
ethtool
evince
evince-libs
evince-nautilus
evolution-data-server
evolution-data-server-devel
evolution-data-server-langpacks
exempi
exiv2
exiv2-libs
expat
expat-devel
fcoe-utils
file
file-libs
file-roller
filesystem
findutils
fipscheck
fipscheck-lib
firefox
firewalld
firewalld-filesystem
flac-libs
flatpak
flatpak-libs
flatpak-selinux
flatpak-session-helper
flex
fltk
fontconfig
fontconfig-devel
fontpackages-filesystem
fprintd
fprintd-pam
freetype
freetype-devel
frei0r-plugins
fribidi
fribidi-devel
fuse
fuse3-devel
fuse3-libs
fuse-common
fuse-libs
fusioninventory-agent
fusioninventory-agent-task-inventory
fwupd
fwupdate
fwupdate-efi
fwupdate-libs
gavl
gawk
gc
gcc
gcc-c++
gcc-gdb-plugin
GConf2
gcr
gcr-devel
gd
gdb
gdb-gdbserver
gdb-headless
gdbm
gdbm-libs
gd-devel
gdisk
gdk-pixbuf2
gdk-pixbuf2-devel
gdk-pixbuf2-modules
gdm
gedit
gegl
genisoimage
geoclue2
geoclue2-libs
geocode-glib
geocode-glib-devel
geolite2-city
geolite2-country
gettext
gettext-common-devel
gettext-devel
gettext-libs
ghc-srpm-macros
giflib
gimp
gimp-libs
git
git-core
git-core-doc
gjs
glade-libs
glib2
glib2-devel
glibc
glibc
glibc-all-langpacks
glibc-common
glibc-devel
glibc-headers
glibc-langpack-en
glibmm24
glib-networking
gl-manpages
glusterfs
glusterfs-api
glusterfs-cli
glusterfs-client-xlators
glusterfs-fuse
glusterfs-libs
glx-utils
gmp
gmp-c++
gmp-devel
gnome-abrt
gnome-autoar
gnome-bluetooth
gnome-bluetooth-libs
gnome-boxes
gnome-calculator
gnome-characters
gnome-classic-session
gnome-color-manager
gnome-control-center
gnome-control-center-filesystem
gnome-desktop3
gnome-desktop3-devel
gnome-disk-utility
gnome-font-viewer
gnome-getting-started-docs
gnome-keyring
gnome-keyring-pam
gnome-logs
gnome-menus
gnome-online-accounts
gnome-online-accounts-devel
gnome-remote-desktop
gnome-screenshot
gnome-session
gnome-session-wayland-session
gnome-session-xsession
gnome-settings-daemon
gnome-shell
gnome-shell-extension-apps-menu
gnome-shell-extension-common
gnome-shell-extension-desktop-icons
gnome-shell-extension-horizontal-workspaces
gnome-shell-extension-launch-new-instance
gnome-shell-extension-places-menu
gnome-shell-extension-window-list
gnome-software
gnome-system-monitor
gnome-terminal
gnome-terminal-nautilus
gnome-themes-standard
gnome-user-docs
gnome-video-effects
gnu-free-fonts-common
gnu-free-mono-fonts
gnu-free-sans-fonts
gnu-free-serif-fonts
gnupg2
gnupg2-smime
gnutls
gnutls-c++
gnutls-dane
gnutls-devel
gobject-introspection
gom
google-chrome-stable
google-droid-sans-fonts
google-noto-cjk-fonts-common
google-noto-emoji-color-fonts
google-noto-emoji-fonts
google-noto-fonts-common
google-noto-sans-cjk-ttc-fonts
google-noto-sans-lisu-fonts
google-noto-sans-mandaic-fonts
google-noto-sans-meetei-mayek-fonts
google-noto-sans-sinhala-fonts
google-noto-sans-tagalog-fonts
google-noto-sans-tai-tham-fonts
google-noto-sans-tai-viet-fonts
google-noto-serif-cjk-ttc-fonts
go-srpm-macros
gpgme
gpg-pubkey
gpg-pubkey
gpm
gpm-devel
gpm-libs
grafana
grafana-azure-monitor
grafana-cloudwatch
grafana-elasticsearch
grafana-graphite
grafana-influxdb
grafana-loki
grafana-mssql
grafana-mysql
grafana-opentsdb
grafana-postgres
grafana-prometheus
grafana-stackdriver
graphite2
graphite2-devel
graphviz
grep
grilo
grilo-plugins
groff-base
grub2-common
grub2-pc
grub2-pc-modules
grub2-tools
grub2-tools-extra
grub2-tools-minimal
grubby
gsettings-desktop-schemas
gsettings-desktop-schemas-devel
gsm
gspell
gssdp
gssproxy
gstreamer1
gstreamer1-devel
gstreamer1-plugins-bad-free
gstreamer1-plugins-base
gstreamer1-plugins-base-devel
gstreamer1-plugins-good
gstreamer1-plugins-ugly-free
gtk2
gtk2-devel
gtk2-devel-docs
gtk2-immodule-xim
gtk3
gtk3-devel
gtk3-immodule-xim
gtkmm30
gtksourceview3
gtk-update-icon-cache
gtk-vnc2
guile
gupnp
gupnp-av
gupnp-dlna
gutenprint
gutenprint-libs
gutenprint-libs-ui
gutenprint-plugin
gvfs
gvfs-afc
gvfs-afp
gvfs-archive
gvfs-client
gvfs-devel
gvfs-fuse
gvfs-goa
gvfs-gphoto2
gvfs-mtp
gvfs-smb
gvnc
gzip
hardlink
harfbuzz
harfbuzz-devel
harfbuzz-icu
hdparm
hicolor-icon-theme
hostname
hplip-common
hplip-libs
htop
hunspell
hunspell-devel
hunspell-en
hunspell-en-GB
hunspell-en-US
hwdata
hwloc
hwloc-libs
hyphen
ibacm
ibus
ibus-gtk2
ibus-gtk3
ibus-hangul
ibus-kkc
ibus-libpinyin
ibus-libs
ibus-libzhuyin
ibus-m17n
ibus-setup
ibus-typing-booster
iio-sensor-proxy
ilmbase
ima-evm-utils
infiniband-diags
info
initscripts
insights-client
intltool
iotop
iowatcher
ipcalc
iproute
iproute-tc
iprutils
ipset
ipset-libs
iptables
iptables-devel
iptables-ebtables
iptables-libs
iptstate
iputils
ipxe-roms-qemu
irqbalance
iscsi-initiator-utils
iscsi-initiator-utils-iscsiuio
isl
isns-utils-libs
iso-codes
iso-codes-devel
itstool
iwl1000-firmware
iwl100-firmware
iwl105-firmware
iwl135-firmware
iwl2000-firmware
iwl2030-firmware
iwl3160-firmware
iwl3945-firmware
iwl4965-firmware
iwl5000-firmware
iwl5150-firmware
iwl6000-firmware
iwl6000g2a-firmware
iwl6050-firmware
iwl7260-firmware
jansson
jasper-libs
java-1.8.0-openjdk
java-1.8.0-openjdk-devel
java-1.8.0-openjdk-headless
javapackages-filesystem
jbig2dec-libs
jbigkit-libs
jdk
jna
jomolhari-fonts
json-c
json-glib
json-glib-devel
julietaula-montserrat-fonts
kbd
kbd-legacy
kbd-misc
kernel
kernel
kernel-core
kernel-core
kernel-devel
kernel-devel
kernel-headers
kernel-modules
kernel-modules
kernel-tools
kernel-tools-libs
kexec-tools
keybinder3
keyutils
keyutils-libs
keyutils-libs-devel
khmeros-base-fonts
khmeros-fonts-common
kmod
kmod-kvdo
kmod-libs
kpartx
kpatch
krb5-devel
krb5-libs
krb5-workstation
ksh
kyotocabinet-libs
lame-libs
langpacks-en
langtable
langtable-data
lcms2
ldns
ledmon
less
liba52
libacl
libacl-devel
libaio
libaio-devel
libao
libappstream-glib
libarchive
libasan
libassuan
libasyncns
libatasmart
libatomic_ops
libattr
libattr-devel
libavc1394
libbabeltrace
libbasicobjects
libblkid
libblkid-devel
libblockdev
libblockdev-crypto
libblockdev-dm
libblockdev-fs
libblockdev-kbd
libblockdev-loop
libblockdev-lvm
libblockdev-mdraid
libblockdev-mpath
libblockdev-nvdimm
libblockdev-part
libblockdev-swap
libblockdev-utils
libbluray
libbpf
libbytesize
libcacard
libcanberra
libcanberra-devel
libcanberra-gtk2
libcanberra-gtk3
libcap
libcap-devel
libcap-ng
libcap-ng-devel
libcdio
libcdio-paranoia
libcgroup
libcollection
libcom_err
libcom_err-devel
libcomps
libconfig
libcroco
libcurl
libcurl-devel
libdaemon
libdatrie
libdb
libdb-devel
libdb-utils
libdhash
libdmapsharing
libdmx
libdnf
libdrm
libdrm-devel
libdv
libdvdnav
libdvdread
libedit
libepoxy
libepoxy-devel
liberation-fonts
liberation-fonts-common
liberation-mono-fonts
liberation-sans-fonts
liberation-serif-fonts
libestr
libevdev
libevent
libexif
libfabric
libfastjson
libfdisk
libffi
libffi-devel
libfontenc
libfprint
libgcab1
libgcc
libgcrypt
libgcrypt-devel
libgdata
libgdata-devel
libgdither
libgee
libgexiv2
libgfortran
libglvnd
libglvnd-core-devel
libglvnd-devel
libglvnd-egl
libglvnd-gles
libglvnd-glx
libglvnd-opengl
libgnomekbd
libgomp
libgovirt
libgpg-error
libgpg-error-devel
libgphoto2
libgs
libgsf
libgtop2
libgudev
libgusb
libgweather
libgweather-devel
libgxps
libhangul
libhugetlbfs
libhugetlbfs-devel
libhugetlbfs-utils
libibumad
libibverbs
libical
libical-devel
libICE
libICE-devel
libicu
libicu-devel
libidn
libidn2
libidn2-devel
libiec61883
libieee1284
libieee1284-devel
libijs
libimobiledevice
libini_config
libinput
libipa_hbac
libipt
libiptcdata
libiscsi
libjpeg-turbo
libjpeg-turbo-devel
libkadm5
libkcapi
libkcapi-hmaccalc
libkkc
libkkc-common
libkkc-data
libksba
libldb
liblouis
liblsan
libmaxminddb
libmbim
libmbim-utils
libmcpp
libmediaart
libmetalink
libmicrohttpd
libmng
libmnl
libmodman
libmodulemd1
libmount
libmpc
libmpcdec
libmtp
libmusicbrainz5
libndp
libnetfilter_conntrack
libnfnetlink
libnfsidmap
libnftnl
libnghttp2
libnl3
libnl3-cli
libnl3-devel
libnma
libnotify
libnotify-devel
libnsl2
libnsl
liboauth
liboauth-devel
libogg
libomp
libopenraw
libosinfo
libpaper
libpath_utils
libpcap
libpciaccess
libpeas
libpeas-gtk
libpeas-loader-python3
libpfm
libpfm-devel
libpinyin
libpinyin-data
libpipeline
libpkgconf
libplist
libpmem
libpmemblk
libpmemblk-devel
libpmem-devel
libpmemlog
libpmemlog-devel
libpmemobj
libpmemobj++-devel
libpmemobj-devel
libpmemobj++-doc
libpmempool
libpmempool-devel
libpng12
libpng15
libpng
libpng-devel
libpq
libpq-devel
libproxy
libpsl
libpsm2
libpwquality
libqmi
libqmi-utils
libquadmath
libquadmath-devel
libquvi
libquvi-scripts
librados2
libraw1394
librbd1
librdmacm
libref_array
librelp
librepo
libreport
libreport-anaconda
libreport-cli
libreport-filesystem
libreport-gtk
libreport-plugin-reportuploader
libreport-plugin-rhtsupport
libreport-plugin-ureport
libreport-rhel
libreport-web
libreswan
librhsm
librpmem
librpmem-devel
librsvg2
librsvg2-devel
librsvg2-tools
libsane-hpaio
libseccomp
libseccomp-devel
libsecret
libsecret-devel
libselinux
libselinux-devel
libselinux-utils
libsemanage
libsepol
libsepol-devel
libshout
libsigc++20
libsigsegv
libSM
libsmartcols
libsmbclient
libsmbios
libSM-devel
libsndfile
libsolv
libsoup
libsoup-devel
libspectre
libspiro
libsrtp
libss
libssh
libssh-config
libssh-devel
libsss_autofs
libsss_certmap
libsss_idmap
libsss_nss_idmap
libsss_sudo
libstdc++
libstdc++-devel
libstemmer
libstoragemgmt
libsysfs
libtalloc
libtar
libtasn1
libtasn1-devel
libtdb
libteam
libtevent
libthai
libtheora
libtiff
libtiff-devel
libtimezonemap
libtirpc
libtool
libtool-ltdl
libtsan
libubsan
libudisks2
libunistring
libusal
libusbmuxd
libusbx
libusbx-devel
libuser
libutempter
libuuid
libuuid-devel
libuv
libv4l
libva
libva-devel
libvarlink
libverto
libverto-devel
libverto-libevent
libvirt-daemon
libvirt-daemon-config-network
libvirt-daemon-driver-interface
libvirt-daemon-driver-network
libvirt-daemon-driver-nodedev
libvirt-daemon-driver-nwfilter
libvirt-daemon-driver-qemu
libvirt-daemon-driver-secret
libvirt-daemon-driver-storage
libvirt-daemon-driver-storage-core
libvirt-daemon-driver-storage-disk
libvirt-daemon-driver-storage-gluster
libvirt-daemon-driver-storage-iscsi
libvirt-daemon-driver-storage-iscsi-direct
libvirt-daemon-driver-storage-logical
libvirt-daemon-driver-storage-mpath
libvirt-daemon-driver-storage-rbd
libvirt-daemon-driver-storage-scsi
libvirt-daemon-kvm
libvirt-devel
libvirt-gconfig
libvirt-glib
libvirt-gobject
libvirt-libs
libvisual
libvmem
libvmem-devel
libvmmalloc
libvmmalloc-devel
libvncserver
libvorbis
libvpx
libwacom
libwacom-data
libwayland-client
libwayland-cursor
libwayland-egl
libwayland-server
libwbclient
libwebp
libwebp-devel
libwmf
libwmf-lite
libwnck3
libX11
libX11-common
libX11-devel
libX11-xcb
libXau
libXau-devel
libXaw
libXaw-devel
libxcb
libxcb-devel
libXcomposite
libXcomposite-devel
libxcrypt
libxcrypt-devel
libXcursor
libXcursor-devel
libXdamage
libXdamage-devel
libXdmcp
libXext
libXext-devel
libXfixes
libXfixes-devel
libXfont2
libXft
libXft-devel
libXi
libXi-devel
libXinerama
libXinerama-devel
libxkbcommon
libxkbcommon-devel
libxkbcommon-x11
libxkbfile
libxklavier
libxml2
libxml2-devel
libXmu
libXmu-devel
libXp
libXp-devel
libXpm
libXpm-devel
libXrandr
libXrandr-devel
libXrender
libXrender-devel
libXres
libXScrnSaver
libXScrnSaver-devel
libxshmfence
libxshmfence-devel
libxslt
libxslt-devel
libXt
libXt-devel
libXtst
libXtst-devel
libXv
libXv-devel
libXxf86dga
libXxf86dga-devel
libXxf86misc
libXxf86misc-devel
libXxf86vm
libXxf86vm-devel
libyaml
libzhuyin
linuxconsoletools
linux-firmware
lksctp-tools
lksctp-tools-devel
lldpad
llvm-libs
lm_sensors-devel
lm_sensors-libs
lockdev
logrotate
lohit-assamese-fonts
lohit-bengali-fonts
lohit-devanagari-fonts
lohit-gujarati-fonts
lohit-gurmukhi-fonts
lohit-kannada-fonts
lohit-odia-fonts
lohit-tamil-fonts
lohit-telugu-fonts
lshw
lsof
lsscsi
ltrace
lua
lua-expat
lua-json
lua-libs
lua-lpeg
lua-socket
lvm2
lvm2-libs
lz4
lz4-devel
lz4-libs
lzo
lzo-devel
lzo-minilzo
lzop
m17n-db
m17n-lib
m4
mailcap
mailx
make
mallard-rng
man-db
man-pages
man-pages-overrides
mariadb
mariadb-backup
mariadb-common
mariadb-connector-c
mariadb-connector-c-config
mariadb-connector-c-devel
mariadb-devel
mariadb-errmsg
mariadb-gssapi-server
mariadb-server
mariadb-server-utils
marisa
mcelog
mcpp
mdadm
mesa-dri-drivers
mesa-filesystem
mesa-libEGL
mesa-libEGL-devel
mesa-libgbm
mesa-libGL
mesa-libglapi
mesa-libGL-devel
mesa-libGLU
mesa-libGLU-devel
mesa-libGLw
mesa-libGLw-devel
mesa-libOSMesa
mesa-vulkan-drivers
metacity
microcode_ctl
mlocate
mobile-broadband-provider-info
ModemManager
ModemManager-glib
mokutil
motif
motif-devel
mousetweaks
mozilla-filesystem
mozjs60
mpfr
mpfr-devel
mpg123-libs
mtdev
mtools
mtr
mutter
nano
nautilus
nautilus-extensions
nautilus-sendto
ncompress
ncurses
ncurses-base
ncurses-c++-libs
ncurses-compat-libs
ncurses-devel
ncurses-libs
ndctl
ndctl-libs
neon
netcf-libs
net-snmp-agent-libs
net-snmp-devel
net-snmp-libs
nettle
nettle-devel
net-tools
NetworkManager
NetworkManager-adsl
NetworkManager-libnm
NetworkManager-team
NetworkManager-tui
NetworkManager-wifi
newt
newt-devel
nfs4-acl-tools
nfs-utils
nftables
nmap-ncat
nm-connection-editor
npth
nscd
nspr
nspr-devel
nss
nss-devel
nss_nis
nss-softokn
nss-softokn-devel
nss-softokn-freebl
nss-softokn-freebl-devel
nss-sysinit
nss-tools
nss-util
nss-util-devel
numactl
numactl-devel
numactl-libs
numad
nvmetcli
ocaml-srpm-macros
oddjob
oddjob-mkhomedir
openal-soft
openblas-srpm-macros
OpenEXR-libs
openjpeg2
openldap
openldap-clients
openldap-devel
openscap
openscap-devel
opensm-libs
openssh
openssh-clients
openssh-server
openssl
openssl-devel
openssl-libs
openssl-pkcs11
opus
orc
orca
orc-compiler
orc-devel
osinfo-db
osinfo-db-tools
os-prober
ostree
ostree-libs
p11-kit
p11-kit-devel
p11-kit-server
p11-kit-trust
PackageKit
PackageKit-command-not-found
PackageKit-glib
PackageKit-gtk3-module
pakchois
paktype-naskh-basic-fonts
pam
pam-devel
pango
pango-devel
pangomm
papi
papi-devel
papi-libs
paratype-pt-sans-fonts
parted
passwd
patch
patchutils
pcaudiolib
pciutils
pciutils-devel
pciutils-libs
pcp
pcp-conf
pcp-devel
pcp-doc
pcp-export-pcp2graphite
pcp-export-pcp2influxdb
pcp-export-pcp2json
pcp-export-pcp2xml
pcp-export-pcp2zabbix
pcp-export-zabbix-agent
pcp-gui
pcp-import-collectl2pcp
pcp-import-ganglia2pcp
pcp-import-iostat2pcp
pcp-import-mrtg2pcp
pcp-import-sar2pcp
pcp-libs
pcp-libs-devel
pcp-manager
pcp-pmda-activemq
pcp-pmda-apache
pcp-pmda-bash
pcp-pmda-bcc
pcp-pmda-bind2
pcp-pmda-bonding
pcp-pmda-cifs
pcp-pmda-cisco
pcp-pmda-dbping
pcp-pmda-dm
pcp-pmda-docker
pcp-pmda-ds389
pcp-pmda-ds389log
pcp-pmda-elasticsearch
pcp-pmda-gfs2
pcp-pmda-gluster
pcp-pmda-gpfs
pcp-pmda-gpsd
pcp-pmda-haproxy
pcp-pmda-infiniband
pcp-pmda-json
pcp-pmda-libvirt
pcp-pmda-lio
pcp-pmda-lmsensors
pcp-pmda-logger
pcp-pmda-lustre
pcp-pmda-lustrecomm
pcp-pmda-mailq
pcp-pmda-memcache
pcp-pmda-mic
pcp-pmda-mounts
pcp-pmda-mysql
pcp-pmda-named
pcp-pmda-netfilter
pcp-pmda-news
pcp-pmda-nfsclient
pcp-pmda-nginx
pcp-pmda-nvidia-gpu
pcp-pmda-oracle
pcp-pmda-pdns
pcp-pmda-perfevent
pcp-pmda-podman
pcp-pmda-postfix
pcp-pmda-postgresql
pcp-pmda-prometheus
pcp-pmda-redis
pcp-pmda-roomtemp
pcp-pmda-rpm
pcp-pmda-rsyslog
pcp-pmda-samba
pcp-pmda-sendmail
pcp-pmda-shping
pcp-pmda-slurm
pcp-pmda-smart
pcp-pmda-snmp
pcp-pmda-summary
pcp-pmda-systemd
pcp-pmda-trace
pcp-pmda-unbound
pcp-pmda-vmware
pcp-pmda-weblog
pcp-pmda-zimbra
pcp-pmda-zswap
pcp-selinux
pcp-system-tools
pcp-testsuite
pcp-webapi
pcp-webapp-blinkenlights
pcp-webapp-grafana
pcp-webapp-graphite
pcp-webapp-vector
pcp-webjs
pcp-zeroconf
pcre2
pcre2-devel
pcre2-utf16
pcre2-utf32
pcre
pcre-cpp
pcre-devel
pcre-utf16
pcre-utf32
perf
perl-Bit-Vector
perl-Carp
perl-Carp-Clan
perl-Class-Method-Modifiers
perl-Compress-Raw-Bzip2
perl-Compress-Raw-Zlib
perl-constant
perl-CPAN-Meta
perl-CPAN-Meta-Requirements
perl-CPAN-Meta-YAML
perl-Crypt-DES
perl-Data-Dump
perl-Data-Dumper
perl-Data-OptList
perl-Date-Calc
perl-Date-Manip
perl-DBD-MySQL
perl-DBD-SQLite
perl-DBI
perl-devel
perl-Devel-GlobalDestruction
perl-Digest
perl-Digest-HMAC
perl-Digest-MD5
perl-Digest-SHA1
perl-Digest-SHA
perl-Encode
perl-Encode-Locale
perl-encoding
perl-Errno
perl-Error
perl-Exporter
perl-ExtUtils-Command
perl-ExtUtils-Install
perl-ExtUtils-MakeMaker
perl-ExtUtils-Manifest
perl-ExtUtils-ParseXS
perl-Fedora-VSP
perl-File-Copy-Recursive
perl-File-Listing
perl-File-Path
perl-File-Slurp
perl-File-Temp
perl-File-Which
perl-Filter
perl-Filter-Simple
perl-FusionInventory-Agent
perl-generators
perl-Getopt-Long
perl-Git
perl-HTML-Parser
perl-HTML-Tagset
perl-HTTP-Cookies
perl-HTTP-Daemon
perl-HTTP-Date
perl-HTTP-Lite
perl-HTTP-Message
perl-HTTP-Negotiate
perl-HTTP-Tiny
perl-Import-Into
perl-interpreter
perl-IO
perl-IO-Compress
perl-IO-HTML
perl-IO-Socket-IP
perl-IO-Socket-SSL
perl-Jcode
perl-JSON
perl-JSON-PP
perl-libnet
perl-libs
perl-libwww-perl
perl-LWP-MediaTypes
perl-LWP-Protocol-https
perl-macros
perl-Math-BigInt
perl-Math-Complex
perl-Memoize
perl-MIME-Base64
perl-Module-Runtime
perl-Moo
perl-Mozilla-CA
perl-Net-CUPS
perl-Net-HTTP
perl-Net-IP
perl-Net-Ping
perl-Net-SNMP
perl-Net-SSLeay
perl-NTLM
perl-open
perl-Package-Generator
perl-Parallel-ForkManager
perl-Params-Util
perl-parent
perl-Parse-EDID
perl-PathTools
perl-PCP-LogImport
perl-PCP-LogSummary
perl-PCP-MMV
perl-PCP-PMDA
perl-Pod-Escapes
perl-podlators
perl-Pod-Perldoc
perl-Pod-Simple
perl-Pod-Usage
perl-Proc-Daemon
perl-Proc-ProcessTable
perl-Role-Tiny
perl-Scalar-List-Utils
perl-SelfLoader
perl-Socket
perl-Socket6
perl-Socket-GetAddrInfo
perl-srpm-macros
perl-Storable
perl-Sub-Exporter
perl-Sub-Exporter-Progressive
perl-Sub-Install
perl-Sub-Quote
perl-Sys-Syslog
perl-Term-ANSIColor
perl-Term-Cap
perl-TermReadKey
perl-Test-Harness
perl-Text-Balanced
perl-Text-ParseWords
perl-Text-Tabs+Wrap
perl-Text-Template
perl-Thread-Queue
perl-threads
perl-threads-shared
perl-Tie-IxHash
perl-TimeDate
perl-Time-HiRes
perl-Time-Local
perl-Try-Tiny
perl-Unicode-Normalize
perl-UNIVERSAL-require
perl-URI
perl-version
perl-WWW-RobotRules
perl-XML-Catalog
perl-XML-LibXML
perl-XML-NamespaceSupport
perl-XML-Parser
perl-XML-SAX
perl-XML-SAX-Base
perl-XML-TokeParser
perl-XML-TreePP
perl-XML-XPath
perl-YAML-Tiny
pesign
pigz
pinentry
pinentry-gtk
pinfo
pipewire0.2-libs
pipewire
pipewire-libs
pixman
pixman-devel
pkgconf
pkgconf-m4
pkgconf-pkg-config
platform-python
platform-python-coverage
platform-python-pip
platform-python-setuptools
plymouth
plymouth-core-libs
plymouth-scripts
policycoreutils
policycoreutils-python-utils
polkit
polkit-devel
polkit-docs
polkit-libs
polkit-pkla-compat
poppler
poppler-data
poppler-glib
popt
popt-devel
postfix
postfix-perl-scripts
powertop
prefixdevname
procps-ng
protobuf-c
psacct
psmisc
publicsuffix-list-dafsa
pulseaudio
pulseaudio-libs
pulseaudio-libs-devel
pulseaudio-libs-glib2
pulseaudio-module-bluetooth
pygobject2
pygtk2
python2
python2-cairo
python2-libs
python2-pip
python2-pip-wheel
python2-setuptools
python2-setuptools-wheel
python36
python3-asn1crypto
python3-audit
python3-augeas
python3-bcc
python3-bind
python3-blivet
python3-blockdev
python3-brlapi
python3-bytesize
python3-cairo
python3-cffi
python3-chardet
python3-configobj
python3-configshell
python3-cryptography
python3-cups
python3-dateutil
python3-dbus
python3-decorator
python3-dmidecode
python3-dnf
python3-dnf-plugins-core
python3-enchant
python3-ethtool
python3-firewall
python3-gobject
python3-gobject-base
python3-gpg
python3-hawkey
python3-html5lib
python3-humanize
python3-hwdata
python3-idna
python3-iniparse
python3-inotify
python3-jsonpointer
python3-kickstart
python3-kmod
python3-langtable
python3-libcomps
python3-libdnf
python3-librepo
python3-libreport
python3-libs
python3-libselinux
python3-libsemanage
python3-libstoragemgmt
python3-libstoragemgmt-clibs
python3-libvirt
python3-libxml2
python3-linux-procfs
python3-louis
python3-lxml
python3-magic
python3-meh
python3-meh-gui
python3-netaddr
python3-netifaces
python3-newt
python3-ntplib
python3-ordered-set
python3-pcp
python3-perf
python3-pid
python3-pip
python3-pip-wheel
python3-ply
python3-policycoreutils
python3-productmd
python3-psycopg2
python3-pwquality
python3-pyatspi
python3-pycparser
python3-pycurl
python3-pydbus
python3-pyOpenSSL
python3-pyparsing
python3-pyparted
python3-pysocks
python3-pytz
python3-pyudev
python3-pyxdg
python3-pyyaml
python3-requests
python3-requests-file
python3-requests-ftp
python3-rhnlib
python3-rpm
python3-rpm-macros
python3-rtslib
python3-schedutils
python3-setools
python3-setuptools
python3-setuptools-wheel
python3-simpleline
python3-six
python3-slip
python3-slip-dbus
python3-speechd
python3-sssdconfig
python3-subscription-manager-rhsm
python3-syspurpose
python3-systemd
python3-unbound
python3-urllib3
python3-urwid
python3-webencodings
python-srpm-macros
qemu-img
qemu-kvm
qemu-kvm-block-curl
qemu-kvm-block-gluster
qemu-kvm-block-iscsi
qemu-kvm-block-rbd
qemu-kvm-block-ssh
qemu-kvm-common
qemu-kvm-core
qt5-designer
qt5-doctools
qt5-linguist
qt5-qt3d
qt5-qt3d-devel
qt5-qtbase
qt5-qtbase-common
qt5-qtbase-devel
qt5-qtbase-gui
qt5-qtbase-mysql
qt5-qtbase-odbc
qt5-qtbase-postgresql
qt5-qtcanvas3d
qt5-qtconnectivity
qt5-qtconnectivity-devel
qt5-qtdeclarative
qt5-qtdeclarative-devel
qt5-qtdoc
qt5-qtgraphicaleffects
qt5-qtimageformats
qt5-qtlocation
qt5-qtlocation-devel
qt5-qtmultimedia
qt5-qtmultimedia-devel
qt5-qtquickcontrols2
qt5-qtquickcontrols
qt5-qtscript
qt5-qtscript-devel
qt5-qtsensors
qt5-qtsensors-devel
qt5-qtserialbus
qt5-qtserialport
qt5-qtserialport-devel
qt5-qtsvg
qt5-qtsvg-devel
qt5-qttools
qt5-qttools-common
qt5-qttools-devel
qt5-qttools-libs-designer
qt5-qttools-libs-designercomponents
qt5-qttools-libs-help
qt5-qttranslations
qt5-qtwayland
qt5-qtwebchannel
qt5-qtwebchannel-devel
qt5-qtwebsockets
qt5-qtwebsockets-devel
qt5-qtx11extras
qt5-qtx11extras-devel
qt5-qtxmlpatterns
qt5-qtxmlpatterns-devel
qt5-rpm-macros
qt5-srpm-macros
quota
quota-nls
radvd
rarian
rarian-compat
rasdaemon
rdma-core
rdma-core-devel
readline
readline-devel
realmd
redhat-backgrounds
redhat-indexhtml
redhat-logos
redhat-lsb-core
redhat-lsb-submod-security
redhat-menus
redhat-release
redhat-release-eula
redhat-rpm-config
rest
rhnlib
rhsm-gtk
rng-tools
rootfiles
rpcbind
rpm
rpm-build
rpm-build-libs
rpm-devel
rpm-libs
rpm-ostree-libs
rpm-plugin-selinux
rpm-plugin-systemd-inhibit
rpm-sign
rrdtool
rrdtool-perl
rsync
rsyslog
rsyslog-gnutls
rsyslog-gssapi
rsyslog-relp
rtkit
rust-srpm-macros
sac
samba
samba-client
samba-client-libs
samba-common
samba-common-libs
samba-common-tools
samba-libs
sane-backends
sane-backends-devel
sane-backends-drivers-cameras
sane-backends-drivers-scanners
sane-backends-libs
sane-frontends
satyr
sbc
scl-utils
scl-utils-build
SDL
SDL-devel
seabios-bin
seavgabios-bin
sed
selinux-policy
selinux-policy-targeted
setroubleshoot-plugins
setroubleshoot-server
setup
sg3_utils
sg3_utils-libs
sgabios-bin
sgml-common
shadow-utils
shared-mime-info
shim-x64
sil-abyssinica-fonts
sil-nuosu-fonts
sil-padauk-fonts
skkdic
slang
slang-devel
smartmontools
smc-fonts-common
smc-meera-fonts
snappy
socat
sos
sound-theme-freedesktop
soundtouch
source-highlight
spax
speech-dispatcher
speech-dispatcher-espeak-ng
speex
speexdsp
spice-glib
spice-gtk3
spice-server
sqlite
sqlite-devel
sqlite-libs
squashfs-tools
sscg
sssd
sssd-ad
sssd-client
sssd-common
sssd-common-pac
sssd-ipa
sssd-kcm
sssd-krb5
sssd-krb5-common
sssd-ldap
sssd-nfs-idmap
sssd-proxy
startup-notification
startup-notification-devel
stix-fonts
strace
subscription-manager-rhsm-certificates
sudo
suitesparse
sushi
switcheroo-control
symlinks
sysstat
system-config-printer-libs
systemd
systemd-container
systemd-devel
systemd-libs
systemd-pam
systemd-udev
systemtap
systemtap-client
systemtap-devel
systemtap-runtime
systemtap-sdt-devel
taglib
tar
targetcli
target-restore
tbb
tbb-devel
tcl
tcl-devel
tcpdump
tcsh
teamd
thai-scalable-fonts-common
thai-scalable-waree-fonts
theora-tools
tigervnc
tigervnc-icons
tigervnc-license
tigervnc-server
tigervnc-server-minimal
time
timedatex
tk
tk-devel
totem
totem-nautilus
totem-pl-parser
trace-cmd
traceroute
tracker
tracker-miners
tree
trousers
trousers-lib
ttmkfdir
tuned
twolame-libs
tzdata
tzdata-java
udisks2
unbound-libs
unicode-ucd
unixODBC
unixODBC-devel
unzip
upower
urw-base35-bookman-fonts
urw-base35-c059-fonts
urw-base35-d050000l-fonts
urw-base35-fonts
urw-base35-fonts-common
urw-base35-gothic-fonts
urw-base35-nimbus-mono-ps-fonts
urw-base35-nimbus-roman-fonts
urw-base35-nimbus-sans-fonts
urw-base35-p052-fonts
urw-base35-standard-symbols-ps-fonts
urw-base35-z003-fonts
usbmuxd
usbredir
usbutils
usermode
usermode-gtk
userspace-rcu
util-linux
util-linux-user
valgrind
valgrind-devel
vdo
vim-common
vim-enhanced
vim-filesystem
vim-minimal
vino
virt-what
volume_key-libs
vte291
vte-profile
vulkan-loader
wavpack
wayland-devel
wayland-protocols-devel
webkit2gtk3
webkit2gtk3-devel
webkit2gtk3-jsc
webkit2gtk3-jsc-devel
webkit2gtk3-plugin-process-gtk2
webrtc-audio-processing
wget
which
woff2
words
wpa_supplicant
xcb-util
xcb-util-image
xcb-util-keysyms
xcb-util-renderutil
xcb-util-wm
xdg-desktop-portal
xdg-desktop-portal-gtk
xdg-user-dirs
xdg-user-dirs-gtk
xdg-utils
xfsdump
xfsprogs
xfsprogs-devel
xkeyboard-config
xkeyboard-config-devel
xml-common
xmlrpc-c
xmlrpc-c-client
xorg-x11-docs
xorg-x11-drv-fbdev
xorg-x11-drv-libinput
xorg-x11-drv-vesa
xorg-x11-fonts-ISO8859-1-100dpi
xorg-x11-fonts-ISO8859-1-75dpi
xorg-x11-fonts-misc
xorg-x11-fonts-Type1
xorg-x11-font-utils
xorg-x11-proto-devel
xorg-x11-server-common
xorg-x11-server-utils
xorg-x11-server-Xorg
xorg-x11-server-Xvfb
xorg-x11-server-Xwayland
xorg-x11-utils
xorg-x11-xauth
xorg-x11-xbitmaps
xorg-x11-xinit
xorg-x11-xkb-utils
xsane-common
xsane-gimp
xterm
xterm-resize
xz
xz-devel
xz-libs
yajl
yelp
yelp-libs
yelp-tools
yelp-xsl
ypbind
yp-tools
yum
zabbix-agent
zenity
zip
zlib
zlib-devel
zsh


```


然后创建一个批处理命令，在RHEL里面执行，将依赖包都安装好。
创建批处理命令，并给其可执行的权限：
```bash
touch yuminstall.sh
chmod -R 755 yuminstall.sh
```

批处理命令内容如下：

```bash

#!/bin/bash
while read line
do
dnf -y install $line
done < /tmp/installer/list.txt
```

注意：这里所需要的txt文件名称和路径根据自己的文件来设置。
这里因为依赖包数目非常多，所以这个安装时间会比较长。
 

---

###	需要单独下载的RPM包

有几个RPM不在系统本身的yum源里面，需要单独下载。
先给大家提供几个我常用的RPM下载网站：

- https://rpmfind.net/linux/rpm2html/search.php
- https://pkgs.org/
- http://rpm.pbone.net


下面4个RPM包是安装oracle所需要的：


- compat-libstdc++-33-3.2.3-72.el7.i686.rpm
- compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm
- compat-libcap1-1.10-7.el7.i686.rpm
- compat-libcap1-1.10-7.el7.x86_64.rpm


下面这个包是autovue所需要的：

- wine-av-20040914-26.i386.rpm

下载地址为：https://oss.oracle.com/AutoVue/

---

##	VNC服务配置（option）

VNC服务不是一定要安装，具体情况可以根据我们的需要自行决定这个服务是否需要配置。
确认yum源配置成功后，执行命令

```bash
dnf install tigervnc tigervnc-server
```
执行成功后，运行
```bash
rpm -qa|grep tigervnc
```

可以查询是否安装成功。
安装成功后，我们可以先设置vnc服务的密码，执行命令：

```bash
vncpasswd
```
进行设置VPN的密码，以后也可以用改命令更改VNC服务的密码。
在正式使用VNC服务之前，我们还需要先修改配置文件

```bash
vim /etc/tigervnc/vncserver-config-defaults
```

注意：一定不要将localhost的注释取消，否则会连不上；geometry是分辨率，可以根据自己的电脑进行设置。
修改配置文件
```bash
vim /etc/tigervnc/vncserver.users
```

这里可以设置上vpn打开的默认用户，可以根据自己的需要来。
VNC的设置完成后，我们可以用root执行命令：
```bash
vncserver :1
```

来打开VNC的服务，这里的：1对应的就是5900+1即5901的端口。
我们也可以将VNC做成一个系统服务，这样就不用每次启动都手动启动这个VNC服务了，这里需要注意一点是，设置这个服务之前，一定请先设置好vnc的服务密码。
先创建服务文件：

```bash
/etc/systemd/system/vncserver@.service
```

文件内容如下：

```conf

[Unit]
Description=Remote Desktop VNC Service
After=syslog.target network.target

[Service]
Type=forking
WorkingDirectory=/root
User=root
Group=root
# Clean any existing files in /tmp/.X11-unix environment
ExecStartPre=/bin/sh -c '/usr/bin/vncserver -kill %i > /dev/null 2>&1 || :'
ExecStart=/sbin/runuser -l root -c "/usr/bin/vncserver -autokill %i"
PIDFile=/root/.vnc/%H%i.pid
ExecStop=/bin/sh -c '/usr/bin/vncserver -kill %i > /dev/null 2>&1 || :'

[Install]
WantedBy=multi-user.target

```

系统服务文件创建成功后，执行下面命令：


```bash
#重载系统服务：
systemctl daemon-reload
#启动VNC系统服务
systemctl start vncserver@:1.service
#将VNC做成系统自启动服务
systemctl enable vncserver@:1.service
```

---

##	安装Oracle19C

###	检查依赖包

可以到Oracle官网查询文档，检查RHEL下面需要哪些依赖包。

- bc
- binutils
- compat-libcap1
- compat-libstdc++
- elfutils-libelf
- elfutils-libelf-devel
- fontconfig-devel
- glibc
- glibc-devel
- ksh
- libaio
- libaio-devel
- libX11
- libXau
- libXi
- libXtst
- libXrender
- libXrender-devel
- libgcc
- libstdc++
- libstdc++-devel
- libxcb
- make
- net-tools (for Oracle RAC and Oracle Clusterware)
- nfs-utils (for Oracle ACFS)
- python (for Oracle ACFS Remote)
- python-configshell (for Oracle ACFS Remote)
- python-rtslib (for Oracle ACFS Remote)
- python-six (for Oracle ACFS Remote)
- targetcli (for Oracle ACFS Remote)
- smartmontools
- sysstat

---

###	系统内核参数修改

修改

```bash
vi /etc/sysctl.conf
```

文件，文件尾追加如下设置

```conf
fs.aio-max-nr = 1048576
fs.file-max = 6815744
kernel.shmall = 16777216
kernel.shmmax =  68719476736
kernel.shmmni = 4096
kernel.sem = 250 32000 100 128
net.ipv4.ip_local_port_range = 9000 65500
net.core.rmem_default = 262144
net.core.rmem_max = 4194304
net.core.wmem_default = 262144
net.core.wmem_max = 1048586
```

修改完成后保存，然后运行

```bash
sysctl -p

```
命令使之生效

---

### 数据库用户的创建

安装和运行Oracle数据库软件都需要使用指定用户组内的指定用户，用户为Oracle，出于安全考虑，用户组建为oinstall、dba，oinstall组中的成员用于管理Oracle数据库物理软件，dba组中的成员用于管理、操作数据库，具有sysdba权限

```bash
#创建oracle用户组
groupadd oinstall
#创建oracle用户组
groupadd dba
#oracle加入新建的2个用户组
useradd -g oinstall -G dba oracle
#设置oracle用户的密码
passwd oracle
```


### 配置Oracle用户限制

使用root账号执行下面操作。

```bash
vi /etc/security/limits.conf
```

在文件最后加入以下的配置：

```conf

oracle              soft    nproc   16384
oracle              hard    nproc   16384
oracle              soft    nofile  8192
oracle              hard    nofile  65536
oracle              soft    stack   10240
oracle              hard    stack   32768

```



###	设定Oracle用户环境变量

要成功安装并使用Oracle数据库软件，必须在Oracle用户的.bash_profile文件中设置ORACLE_BASE、ORACLE_HOME、ORACLE_SID和PATH环境变量，其他的根据需要来设置。ORACLE_HOME可以在安装前手动配置，另外，Oracle安装过程中会根据ORACLE_BASE的值自动指定的ORACLE_HOME，所以也可以在安装后将这个ORACLE_HOME写入.bash_profile。
使用root用户创建安装目录
```bash
mkdir -p /app/oracle/product/19C/db_1
chmod -R 777 /app
chown -R oracle:oinstall /app/oracle
```

切换oracle用户设置变量

```bash

su - oracle
vi .bash_profile
```


添加如下内容，并保存退出。

```conf
export TMP=/tmp;
export TMPDIR=$TMP;
export ORACLE_HOSTNAME=dsu.3ds.com;
export ORACLE_UNQNAME=enoviav6;
export ORACLE_BASE=/app/oracle;
export ORACLE_HOME=$ORACLE_BASE/product/19C/db_1;
export ORACLE_SID=enoviav6;
export PATH=/usr/sbin:$PATH;
export PATH=$ORACLE_HOME/bin:$PATH;
export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib:/usr/local/lib;
export CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib;
export LANG=en_US
```

使配置文件生效

```bash
source .bash_profile
```


###	数据库软件安装

因为19c不会将一些安装文件拷贝到oracle_home目录下，所以我们需要将安装文件拷贝至ORACLE_HOME目录下，然后执行安装命令runInstaller，这里需要注意因为RHEL8.7比19C发布的时间晚，所以直接执行安装会有版本不兼容的错误，如下图：

所以，我们执行安装命令之前，需要设置一下参数，命令如下：

```bash
export CV_ASSUME_DISTID=RHEL7.6
```

然后再执行runInstaller命令即可，具体安装细节如下：

注：这里是需要用root账号来执行一个脚本，个人是建议使用它的自动执行，这里需要设置上root账号的密码。

###	配置数据库监听与服务

使用oracle用户输入netca，弹出配置界面

###	数据库创建实例

使用oracle账户运行dbca，弹出数据库配置。如果显示dbca为不识别命令，是因为oracle的环境变量未配置，检查.bash_profile里面的路径是否正确，或者检查安装的时候，是否将安装文件拷贝到oracle_home下了。
注：在创建实例的sizing里面的process，更改至900，如果是正式环境则要1200以上。

注：数据库的字符集一定不要设置错，默认语言和时区建议设置成美国。

这里是设置EM服务的，有的环境会因为oracle本身的bug，可能这里无法设置，这个没关系的，因为我们操作数据库基本都是靠命令行，EM服务基本用不大上。


###	Oracle服务启动命令

oracle启动命令为：

- 启动数据库服务
```bash
su - oracle
sqlplus "/as sysdba"
SQL> startup
SQL> exit

```bash

查看数据库是否启动
```bash
SQL> select status from v$instance;
```

- 启动oracle监听
```bash
lsnrctl
lsnrctl>status (查状态)
lsnrctl>start
```

- 关闭数据库服务
```bash
SQL> shutdown immediate
```

###   设置Oracle服务自启动

对于自用的环境，oracle设置成自启动能让我们省心不少，省的每次都要切oracle用户去执行数据库启动命令了，具体设置方法如下：
```bash
su - oracle
vi /etc/oratab
```

修改设置如下：将默认的N改为Y
```bash
enoviav6:/app/oracle/product/19C/db_1:Y
```

rc.local是开机启动需要执行的脚本，下面对其进行一些修改设置，必须用root
```bash
su - root
chmod a+w+x /etc/rc.d/rc.local
```

查询一下，这个文件的权限
```bash
ls -l /etc/rc.d/rc.local
```

一定要有x这个执行权限
修改rc.local这个开机启动需要执行的脚本
```bash
vi /etc/rc.d/rc.local
```

在文件最后加上两行启动命令，这里要注意命令的路径：

```bash
su oracle -lc "/app/oracle/product/19C/db_1/bin/lsnrctl start"
su oracle -lc "/app/oracle/product/19C/db_1/bin/dbstart"
```

### 取消数据库密码过期限制

数据库默认有180密码过期的限制，这个不利于后期的使用，我们需要在系统里面取消掉这个密码限制，首先，需要用sysdba登录进sqlplus环境。
下面的命令是查看当前的密码有效期的命令：

```bash
SQL> SELECT * FROM dba_profiles s WHERE s.profile='DEFAULT' AND resource_name='PASSWORD_LIFE_TIME';
```

下面的命令是将密码有效期改为无限制的命令：
```bash
SQL> ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;
```

---

##	Apache HTTP Server的安装

对于2023x，3DE系统对于Apache HTTP Server的版本要求是高于2.4.53，而RHEL8.5自带的httpd版本是2.4.37，如下图：

所以，我们就只能去Apache官网去下载高版本的Apache HTTP Server来安装使用，相应的下载网址如下：
OpenSSL：https://www.openssl.org/source/
Apache：https://httpd.apache.org/download.cgi
APR、APR-util、APR iconv：https://apr.apache.org/download.cgi
PCRE：https://sourceforge.net/projects/pcre/

---

##	OpenSSL

RHEL8的本身限制，我们不能安装下载的openssl，否则会出现RHEL无法启动的问题，所以RHEL8下面还是使用系统自带的openssl。

---

##	安装APR

使用root用户执行下面的命令
解压安装包，进入解压的目录开始执行
```bash
./buildconf
./configure --prefix=/usr/local/apr
```
执行下面的命令，确认所有的输出信息都是success
```bash
make test
```

在上面的命令输出信息都确认为success后，执行下面的命令
```bash
make && make install
make clean && make distclean
```

安装完成后，按照下面的命令进行验证是否安装成功。

---


##	安装APR-Util

使用root用户执行下面的命令
解压安装包，进入解压的目录开始执行
```bash
./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr/bin/apr-1-config
```

执行下面的命令，确认所有的输出信息都是success。
注：这里如果testdbd是FAILED没关系，这个可以忽略掉。
```bash
make test
make && make install
make clean && make distclean
```

安装完成后，按照下面的命令进行验证是否安装成功。

---

##	安装PCRE

使用root用户执行下面的命令
解压安装包，进入解压的目录开始执行
```bash
./configure --prefix=/usr/local/pcre --with-apr=/usr/local/apr/bin/apr-1-config
```bash

执行下面的命令，确认所有的输出信息都是PASS
```bash
make test
```

在上面的命令输出信息都确认为PASS后，执行下面的命令
```bash
make && make install
make clean && make distclean
```
安装完成后，按照下面的命令进行验证是否安装成功。

---

##	安装apr-iconv

使用root用户执行下面的命令
解压安装包，进入解压的目录开始执行
```bash
./configure --prefix=/usr/local/apr-iconv --with-apr=/usr/local/apr
make & make install
make clean && make distclean
```
安装完成后，按照下面的命令进行验证是否安装成功。
如果目录与上图不符，再执行一下上面的安装步骤即可。

---

##	安装HTTPD

###	Apache软件安装

使用root用户执行下面的命令
解压安装包，进入解压的目录开始执行
由于我们上面没有安装OpenSSL，是使用的系统自带的OpenSSL，所以这里的路径是/usr/bin/openssl，具体我们可以用
```bash
which openssl
```
这个命令来确认这里的路径具体的值。
```bash
./configure --prefix=/app/apache24 --with-pcre=/usr/local/pcre --with-apr=/usr/local/apr --with-apr-util=/usr/local/apr-util --enable-ssl --with-ssl=/usr/bin/openssl --enable-so --enable-rewrite --enable-mods-shared=all
make & make install
make clean && make distclean

```

修改配置文件
```bash
httpd.conf
```

在文件里有一行为
```bash
#ServerName www.example.com:80
```
我们在该行下面添加一行

```bash
ServerName 127.0.0.1:80
```

注释掉

SSLRandomSeed startup builtin

SSLRandomSeed connect builtin

启动服务

```bash
/app/apache24/bin/apachectl -k start
```

后面的start参数还可以换成stop或者restart来停止或者重启Apache服务
测试
打开浏览器，输入
```bash
http://localhost
```
页面出现It Works! 表示成功安装。
或者直接在命令行输入：
```bash
curl http://localhost
```

输出结果显示 <html><body><h1>It works!</h1></body></html>


###	Apache开机自启动服务（option）

设定这个Apache开机自启动，可以不用每次开机都切换root账号去启动这个服务，会给我们省心不少。

查询确认一下，这个文件的权限
```bash
ls -l /etc/rc.d/rc.local
```

一定要有x这个执行权限，如果没有，用root账号给设置好执行权限
```bash
chmod a+w+x /etc/rc.d/rc.local
```

修改rc.local这个开机启动需要执行的脚本
```bash
vi /etc/rc.d/rc.local
```

在文件最后加上一行
```bash
su root -lc "/app/apache24/bin/apachectl -k start"
```

设置一下整个目录的权限
```bash
chmod -R 777 /app/apache24/
```

重启一下服务器，开机测试一下




###	Modules激活

3DE环境的运行需要Apache的一些模块，我们可以从PD网站上获取这些模块的清单，这些模块有些是默认关闭的，所以我们需要修改启用这些modules，具体列表如下：

- mod_authz_core.so
- mod_cache.so
- mod_cache_disk.so
- mod_deflate.so
- mod_filter.so
- mod_headers.so
- mod_log_config.so
- mod_proxy.so
- mod_proxy_http.so
- mod_proxy_wstunnel.so
- mod_rewrite.so
- mod_setenvif.so
- mod_socache_shmcb.so
- mod_ssl.so
- mod_slotmem_shm.so
- mod_alias.so
- mod_authz_host.so
- mod_dir.so
- mod_mime.so

LoadBalance需要额外开启：

- mod_proxy_balancer.so
- mod_lbmethod_bybusyness.so
- mod_lbmethod_byrequests.so
- mod_lbmethod_bytraffic.so
- mod_lbmethod_heartbeat.so

---

##	安装JDK

解压jdk文件，并将解压的目录移动到app目录下。
```bash
tar zxvf jdk-17.0.5_linux-x64_bin.tar.gz
mv jdk-17.0.5 /app/.
```

修改环境变量

```bash
vi /etc/profile
```

增加设定如下：
```bash
export JAVA_HOME=/app/jdk-17.0.5
export PATH=${JAVA_HOME}/bin:$PATH
```

执行 source /etc/profile使配置立即生效
执行下面命令，使安装的java成为默认Java

```bash
cd /usr/bin/
ln -s -f /app/jdk-17.0.5/bin/javac
```

进行验证

这里确认显示的Java的路径和Java的版本都是我们新安装的Java即可。

