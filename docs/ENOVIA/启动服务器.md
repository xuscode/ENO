

# Start Service

=== "linux 服务器启动说明"

    挑选合适的ssh 连接工具
    比如如下：

    - https://github.com/team-ide/teamide.git
    - MobaXterm_Personal
    - tabbt
    - micorsoft terminal 

    首先启动进入虚拟机，账户为 x3ds 密码为 x3ds,然后进去之后，通过命令行修改许可证地址，
    先输入 su，输入密码 r2024x，这样就切换为  root 用户了，接着输入 cd / 进入根目录，
    输入 vim var/DassaultSystemes/Licenses/DSLicSrv.txt 弹出vim 编辑界面，输入 i 进行文字插入，
    修改许可证地址为  2.tcp.cpolar.cn:10732  ，之后 按住esc 左下角会显示冒号，输入wq! 强制保存推出；

    许可证修改好了之后，需要启动服务器， 在命令行输入  startup_all.sh  命令，启动所有的服务器，如果需要关闭，输入 shutdown_all.sh

    等待10分钟后，打开 火狐浏览器 即可登录服务器，

    进入 redhat 复制MyRootCA证书到客户端，安装到客户端，选择 受信任的根证书 即可；

    客户端启动地址是  https://r2024x.mydomain.com:443/3dspace

    运行以下代码修改 系统host 地址，加入服务器的地址，这样才能Ping通并且可以访问；

    ```batch
    echo 192.168.10.11 r2024x.mydomain.com r2024x >C:\Windows\System32\drivers\etc\hosts
    ```

=== "windows 服务器启动说明"

    复制下面的命令到txt里面，修改后缀为bat，双击批量运行

    ### 外部tomee

    ```batch

    @echo off
    cd /d C:\TomEE
    set CATALINA_HOME=C:\TomEE\tomee-3dpassport
    call C:\TomEE\tomee-3dpassport\bin\startup.bat
    timeout /t 120

    set CATALINA_HOME=C:\TomEE\tomee-3ddashboard
    call C:\TomEE\tomee-3ddashboard\bin\startup.bat
    timeout /t 70

    set CATALINA_HOME=C:\TomEE\tomee-fedsearch
    call C:\TomEE\tomee-fedsearch\bin\startup.bat
    timeout /t 40

    set CATALINA_HOME=C:\TomEE\tomee-3dspaceCAS
    call C:\TomEE\tomee-3dspaceCAS\bin\startup.bat
    timeout /t 160

    set CATALINA_HOME=C:\TomEE\tomee-3dspaceNoCAS
    call C:\TomEE\tomee-3dspaceNoCAS\bin\startup.bat
    timeout /t 40

    set CATALINA_HOME=C:\TomEE\tomee-CentralFCS
    call C:\TomEE\tomee-CentralFCS\bin\startup.bat
    timeout /t 40

    set CATALINA_HOME=C:\TomEE\tomee-3dcomment
    call C:\TomEE\tomee-3dcomment\bin\startup.bat
    timeout /t 20

    set CATALINA_HOME=C:\TomEE\tomee-3dsywm
    call C:\TomEE\tomee-3dsywm\bin\startup.bat


    ```

    ### R2021x内部tomee

    ```batch

    @echo off

    echo =====STOP ALL===========================

    echo ===license===============================
    net stop "DS License Server"
    timeout /t 4
    echo ===license===============================

    echo =====Oracle=====
    net stop "OracleOraDB19Home1TNSListener"
    timeout /t 3
    net stop "OracleRemExecServiceV2"
    timeout /t 3
    net stop "OracleServiceENOVIAV6"
    timeout /t 3
    net stop "OracleVssWriterENOVIAV6"
    timeout /t 3
    echo =====Oracle=====

    echo ***************************************************************
    echo =====Restart Apache Server=====
    net stop "Apache2.4"
    timeout /t 2
    echo =====End Apache Server=====

    echo ***************************************************************

    echo =====End TomEE Server=====
    net stop "3DEXPERIENCELauncher"
    timeout /t 3

    net stop "3DEXPERIENCE R2021x 3DNotification Node"
    timeout /t 3

    net stop "3DEXPERIENCE R2021x 3DSpace Index"
    timeout /t 3

    net stop "3DEXPERIENCE R2021x 3DSwym ExternalConverterSvc"
    timeout /t 3

    net stop "PDFRService_R2021x"
    timeout /t 3
    echo =====End TomEE Server=====

    echo =====START ALL============================


    echo ===license================================
    net start "DS License Server"
    timeout /t 2
    echo ===license================================

    echo ***************************************************************


    echo =====Restart Apache Server=====
    net start "Apache2.4"
    timeout /t 4
    echo =====End Apache Server======

    echo ***************************************************************


    echo =====Oracle=====

    net start "OracleOraDB12Home1MTSRecoveryService"
    timeout /t 3
    net start "OracleOraDB12Home1TNSListener"
    timeout /t 3
    net start "OracleRemExecServiceV2"
    timeout /t 3
    net start "OracleServiceORCL"
    timeout /t 3
    net start "OracleVssWriterORCL"
    timeout /t 3
    echo =====Oracle=====

    echo ***************************************************************


    echo =====Restart TomEE Server=====
    net start "3DEXPERIENCELauncher"
    timeout /t 3

    net start "3DEXPERIENCE R2021x 3DNotification Node"
    timeout /t 3

    net start "3DEXPERIENCE R2021x 3DSpace Index"
    timeout /t 3

    net start "3DEXPERIENCE R2021x 3DSwym ExternalConverterSvc"
    timeout /t 3

    net start "PDFRService_R2021x"
    timeout /t 3
    echo =====End Apache Server=====

    ```



    ### R2024x内部tomee

    ```batch

    @echo off

    echo =====STOP ALL===========================

    echo ===license===============================
    net stop "DS License Server"
    timeout /t 4
    echo ===license===============================

    echo =====Oracle=====

    net stop "OracleOraDB19Home1MTSRecoveryService"
    timeout /t 3
    net stop "OracleJobSchedulerMYDB"
    timeout /t 3
    net stop "OracleOraDB19Home1TNSListener"
    timeout /t 3
    net stop "OracleRemExecServiceV2"
    timeout /t 3
    net stop "OracleServiceMYDB"
    timeout /t 3
    net stop "OracleVssWriterMYDB"
    timeout /t 3

    echo =====Oracle=====

    echo ***************************************************************
    echo =====Restart Apache Server=====
    net stop "Apache2.4"
    timeout /t 2
    echo =====End Apache Server=====

    echo ***************************************************************

    echo =====End TomEE Server=====

    net stop "3DEXPERIENCE R2024x 3DPassport TomEE+"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DDashboard TomEE+"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x fedsearch TomEE+"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DSpace Index"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DSpace TomEE+"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DSpaceNoCAS TomEE+"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DNotification Node"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DComment Node"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DSwym Node"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DSwym ExternalConverterSvc"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x 3DOrchestrate TomEE+"
    timeout /t 3

    net stop "3DEXPERIENCE R2024x FileCollaborationServer TomEE+"
    timeout /t 3

    REM net stop "PDFRService_R2024x"
    REM timeout /t 3


    echo =====End TomEE Server=====

    echo =====START ALL============================


    echo ===license================================
    net start "DS License Server"
    timeout /t 2
    echo ===license================================

    echo ***************************************************************


    echo =====Restart Apache Server=====
    net start "Apache2.4"
    timeout /t 4
    echo =====End Apache Server======

    echo ***************************************************************


    echo =====Oracle=====

    net start "OracleOraDB19Home1MTSRecoveryService"
    timeout /t 3
    net start "OracleJobSchedulerMYDB"
    timeout /t 3
    net start "OracleOraDB19Home1TNSListener"
    timeout /t 3
    net start "OracleRemExecServiceV2"
    timeout /t 3
    net start "OracleServiceMYDB"
    timeout /t 3
    net start "OracleVssWriterMYDB"
    timeout /t 3


    echo =====Oracle=====

    echo ***************************************************************


    echo =====Restart TomEE Server=====
    net start "3DEXPERIENCELauncher"
    timeout /t 3


    net start "3DEXPERIENCE R2024x 3DPassport TomEE+"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DDashboard TomEE+"
    timeout /t 3

    net start "3DEXPERIENCE R2024x fedsearch TomEE+"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DSpace Index"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DSpace TomEE+"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DSpaceNoCAS TomEE+"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DNotification Node"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DComment Node"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DSwym Node"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DSwym ExternalConverterSvc"
    timeout /t 3

    net start "3DEXPERIENCE R2024x 3DOrchestrate TomEE+"
    timeout /t 3

    net start "3DEXPERIENCE R2024x FileCollaborationServer TomEE+"
    timeout /t 3

    echo =====End Apache Server=====

    ```